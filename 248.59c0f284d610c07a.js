"use strict";(self.webpackChunkwasta=self.webpackChunkwasta||[]).push([[248],{1248:(y,s,n)=>{n.r(s),n.d(s,{NewPasswordComponent:()=>C});var o=n(4946),r=n(95),c=n(7202),l=n(5235),p=n(7169),u=n(9351),g=n(6814),_=n(2490),f=n(8247),m=n(1949);function h(e,O){1&e&&(o.TgZ(0,"div",11),o._uU(1,"* password is required "),o.qZA())}function w(e,O){1&e&&(o.TgZ(0,"div",11),o._uU(1,"* password don't match "),o.qZA())}const P=function(){return{width:"100%","border-radius":"10px"}},b=function(e){return[e]},M=function(){return{width:"100%","border-radius":"10px","border-color":"rgba(0, 16, 61, 0.12)"}};let C=(()=>{class e{constructor(a,i){this.authController=a,this.route=i,this.password=new r.NI("",[r.kI.required,r.kI.minLength(6)]),this.confirmPassword=new r.NI(null,r.kI.required),this.passwordState=(0,o.tdS)(""),this.appRoutes=c.VP,this.email=this.route.snapshot.paramMap.get("email"),this.password?.valueChanges.subscribe(t=>this.trackPasswordState(t))}trackPasswordState(a){const v=[a.match(/[0-9]+/),a.match(/\W+/),a.match(/[a-zA-Z]+/)].filter(E=>null!=E),x=[()=>this.passwordState.update(()=>"week"),()=>this.passwordState.update(()=>"meduim"),()=>this.passwordState.update(()=>"strong")];this.passwordState.update(()=>"week"),a.length>6&&x[v.length-1]()}confirmPasswordValidation(){return this.confirmPassword.touched&&this.password?.value!=this.confirmPassword.value}submitForm(){this.password.markAllAsTouched(),!this.confirmPasswordValidation()&&this.authController.resetPassword({email:this.email,password:this.password.value,password_confirmation:this.confirmPassword.value})}static#o=this.\u0275fac=function(i){return new(i||e)(o.Y36(p.Q),o.Y36(u.gz))};static#t=this.\u0275cmp=o.Xpm({type:e,selectors:[["app-new-password"]],standalone:!0,features:[o.jDz],decls:23,vars:18,consts:[["dotLoader","","bindinglayoutModes",""],[1,"text-center","mb-3","page-header"],[1,"form-group"],["for","password"],["id","password","type","text",1,"wasta-form-control",3,"formControl"],[1,"validation-context"],["class","error",4,"ngIf"],["for","confirm-password"],["id","confirm-password","type","text",1,"wasta-form-control",3,"formControl"],[3,"customStyle","size","click"],[3,"routerLinkBtn","customStyle","size","themes","color"],[1,"error"]],template:function(i,t){1&i&&(o.TgZ(0,"section",0)(1,"h5",1),o._uU(2,"Reset Password"),o.qZA(),o.TgZ(3,"form")(4,"div",2)(5,"label",3),o._uU(6,"Password"),o.qZA(),o._UZ(7,"input",4)(8,"div"),o.TgZ(9,"p",5),o._uU(10,"The password must contain at least 8 characters, Latin letters, numbers, one of the characters (!$#%)"),o.qZA(),o.YNc(11,h,2,0,"div",6),o.qZA(),o.TgZ(12,"div",2)(13,"label",7),o._uU(14,"Password Confirmation"),o.qZA(),o._UZ(15,"input",8),o.YNc(16,w,2,0,"div",6),o.qZA(),o.TgZ(17,"div",2)(18,"ng-button",9),o.NdJ("click",function(){return t.submitForm()}),o._uU(19," Save New Password "),o.qZA()(),o.TgZ(20,"div",2)(21,"ng-button",10),o._uU(22," Log in "),o.qZA()()()()),2&i&&(o.xp6(7),o.Q6J("formControl",t.password),o.xp6(1),o.Gre("validation-pipeline ",t.passwordState(),""),o.xp6(3),o.Q6J("ngIf",t.password.touched&&(null==t.password?null:t.password.hasError("required"))),o.xp6(4),o.Q6J("formControl",t.confirmPassword),o.xp6(1),o.Q6J("ngIf",t.confirmPasswordValidation()),o.xp6(2),o.Q6J("customStyle",o.DdM(14,P))("size",16),o.xp6(3),o.Q6J("routerLinkBtn",o.VKq(15,b,t.appRoutes.login))("customStyle",o.DdM(17,M))("size",16)("themes","outline")("color","offset"))},dependencies:[l.b,g.O5,_.r,r._Y,r.Fj,r.JJ,r.JL,r.oH,f.f,m.O],styles:['.focus-shadow[_ngcontent-%COMP%]:focus{box-shadow:0 0 5px rgba(var(--primary),.5)}.wasta-form-control[_ngcontent-%COMP%]{border:none;background-color:#fff;padding:10px 5px;border:1px solid rgba(var(--input-border-color));border-radius:5px;transition:all .3s}.wasta-form-control[_ngcontent-%COMP%]:focus{outline:none;border:1px solid rgba(var(--primary))}.wasta-form-select[_ngcontent-%COMP%]{border:none;background-color:#fff;padding:10px 5px;border:1px solid rgba(var(--input-border-color));overflow-y:hidden;border-radius:5px}.wasta-form-select[_ngcontent-%COMP%]:focus{outline:none;border:1px solid rgba(var(--primary))}.wasta-form-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{height:100px;color:#333}.form-group-ratio[_ngcontent-%COMP%]{width:100%;height:-moz-fit-content;height:fit-content}.form-group-ratio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:0;width:0;display:none}.form-group-ratio[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:100%;display:inline-block;border:1px solid rgba(var(--input-border-color));padding:12px 16px;border-radius:10px;cursor:pointer}.form-group-checkbox[_ngcontent-%COMP%]{display:flex;align-items:center;flex-wrap:wrap;gap:5px}.form-group-checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:0;width:20px;height:20px;border:1px solid rgba(var(--input-border-color));accent-color:rgb(var(--primary))}.form-group-checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{border-radius:10px;cursor:pointer}section[_ngcontent-%COMP%]{width:450px;font-size:var(--auth-font);margin:1em auto;background-color:#fff;padding:32px 24px;box-shadow:0 4px 16px #00000014;border-radius:16px}section.mobile-mode[_ngcontent-%COMP%]{max-width:95%;--auth-font: 16px;width:-moz-fit-content;width:fit-content;border-radius:5px}[_nghost-%COMP%]{--auth-font: 18px}[_nghost-%COMP%]   *[_ngcontent-%COMP%]{font-family:DM Sans;font-weight:400}[_nghost-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9em}.page-header[_ngcontent-%COMP%]{font-feature-settings:"clig" off,"liga" off;font-family:DM Sans;font-size:25px;font-style:normal;font-weight:500}.form-group[_ngcontent-%COMP%]{margin-bottom:10px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:18px;font-weight:400;color:rgba(var(--text-secondary, 1));display:inline-block;width:100%;margin-bottom:8px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}.password[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;justify-content:end}.password[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .password[_ngcontent-%COMP%]   ng-button[_ngcontent-%COMP%]{position:absolute;margin:5px}.error[_ngcontent-%COMP%]{width:100%;color:red;padding:.2em .3em;font-size:calc(var(--auth-font) * .7)}.no-value[_ngcontent-%COMP%]{background:linear-gradient(rgb(var(--input-border-color)),rgb(var(--input-border-color)))}.validation-pipeline[_ngcontent-%COMP%]{width:100%;height:5px;border-radius:10px;margin:.3em 0;background-color:rgb(var(--input-border-color));position:relative}.validation-pipeline[_ngcontent-%COMP%]:after{content:"";position:absolute;width:0;height:100%;left:0;top:0;border-radius:10px;background-color:transparent;transition:background-color .1s,width .5s}.validation-pipeline.week[_ngcontent-%COMP%]:after{width:30%;background-color:#dc3545}.validation-pipeline.meduim[_ngcontent-%COMP%]:after{width:60%;background-color:#ffc107}.validation-pipeline.strong[_ngcontent-%COMP%]:after{width:100%;background-color:#198754}.validation-context[_ngcontent-%COMP%]{font-size:.7em;padding:.5em .1em;color:rgb(var(--text-secondary))}section[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:14px;color:rgba(var(--text),1)}']})}return e})()}}]);